<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="">
</head>
<body>
    <nav>
        <p id="HPlayer"></p>
        <p id="HPponent"></p>
    </nav>
    <section>
    <div class="dropdown"> <!--Dropdown Option for Heads and Tails for the Player-->
            <span class="coinflip">
                <button id="tc">Toin Coss</button>
                <span class="coinside">
                    <ul>
                        <li><a onclick="heads()" id="hb" href="#">Heads</a></li>
                        <li><a onclick="tails()" id="tb" href="#">Tails</a></li>
                    </ul>
                </span>
            </span>
            <p id="result"></p>
    </div>
        
    </section>
    <section> <!--<p id> is used to specifically target and access specific Elements in Javascript-->
        <p id="playchoice"></p>
        <p id="event1"></p>
        <p id="event2"></p>
        <p id="event3"></p>
    </section>
    <section> <!-- Buttons for the option to Attack and Defne-->
        <button onclick="playerAttack()" id="atb">Attack</button>
        <button onclick="playerDefend()" id="dfb">Defend</button>
    </section>
    <section>
        <button onclick="resetBtn()" id="rtb">Reset.</button>
    </section>

    <script>
         // The Set Health of the Player and Skibidi Toilet's Health which is 100
        var playerHP = 100; 
        var opponentHP = 100;
        var choice, playerdmg, oppdmg, action, placeholder;

        const atkbut = document.getElementById("atb");
        const defbut = document.getElementById("dfb");
        const resbut = document.getElementById("rtb");
        const tossbut = document.getElementById("tc");

        // Indicates the Player and Opponents Health
        document.getElementById("HPlayer").innerHTML = "Player: " + playerHP;
        document.getElementById("HPponent").innerHTML = "Opponent " + opponentHP;

        resbut.disabled = true;

        // Function for Heads
        function heads(){
            choice = 'head';
            tossCoin('head');
        }

        // Function for Tails
        function tails(){
            choice = 'tail';
            tossCoin('tail');
        }

        // Function TossCoin, as indicated by sir's instructions, the player has the option to choose 
        // either 'Heads' or 'Tails'. The program will generate a random result that will produce again
        // Either 'Heads' or 'Tails', if the player matches with the program, the player can have the
        // The player has the advantage to attack first however the defend button is disabled
        // If the player does not match with the program, they will not gain the first move and will have the option to attack or defend


        function tossCoin(choice){
            var rand = Math.round(Math.random());
            var coin, result;
            if(rand == 0){
                coin = 'head';
                if(choice == coin){
                    document.getElementById("result").innerHTML = "Coin is head. You chose head!"; // Player matches with the program
                    defbut.disabled = true;
                }
                else{
                    document.getElementById("result").innerHTML = "Coin is head. You chose tail!"; // Player DOES NOT match with the program
                }
            }
            else{
                coin = 'tail';
                if(choice == coin){
                    document.getElementById("result").innerHTML = "Coin is tail. You chose tail!"; // Player matches with the program
                    defbut.disabled = true;
                }
                else{
                    document.getElementById("result").innerHTML = "Coin is tail. You chose head!"; // Player DOES NOT match with the program
                }
            }
            tossbut.disabled = true;
            resbut.disabled = false;
        }

        function calculateDamage() { 
            var damage = Math.round(Math.random()*4)+1;
            return damage;
        } // Randomized Calculation for the damage, it ranges from 1 - 5.

        function opponentAction(){
            action = Math.round(Math.random());
            return action;
        } // Declaring and Randomizing the Function for the action of the opponent

        function playerAttack(){
            defbut.disabled = false;
            document.getElementById("playchoice").innerHTML = "<b>You will attack!</b>\n";
            playerdmg = calculateDamage();
            if(opponentAction() == 1){
                oppdmg = calculateDamage();
                playerHP = playerHP - oppdmg;
                opponentHP = opponentHP - playerdmg;
                document.getElementById("HPlayer").innerHTML = "Player: " + playerHP;
                document.getElementById("HPponent").innerHTML = "Opponent: " + opponentHP;
                document.getElementById("event1").innerHTML = "You inflict " + playerdmg + " damage";
                document.getElementById("event2").innerHTML = "Opponent inflicts " + oppdmg + " damage";
                document.getElementById("event3").innerHTML = " ";
            } // If the Player chose to attack and the opponent randomly attacks as well.


            else{
                if(playerdmg - 3 <= 0){
                    document.getElementById("event1").innerHTML = "You attempted to inflict " + playerdmg + " damage";
                    document.getElementById("event2").innerHTML = "The opponent completely blocked the attack";
                    document.getElementById("event3").innerHTML = " ";
                } // If the Player chose to attack and the opponent decided to completely blocked the attack.


                else{
                    placeholder = playerdmg - 3;
                    opponentHP = opponentHP - placeholder;
                    document.getElementById("event1").innerHTML = "You attempted to inflict " + playerdmg + " damage";
                    document.getElementById("event2").innerHTML = "Opponent defended from the attack";
                    document.getElementById("event3").innerHTML = "You inflicted " + placeholder + " damage";
                    document.getElementById("HPponent").innerHTML = "Opponent: " + opponentHP;
                } // If the Player chose to attack and the opponent defended from the attack
            }
            gameOver();
        }

        function playerDefend(){
            document.getElementById("playchoice").innerHTML = "<b>You will defend!</b>\n";
            if(opponentAction() == 1){
                oppdmg = calculateDamage();
                if(oppdmg - 3 <= 0){
                    document.getElementById("event1").innerHTML = "Opponent attempted to inflict " + oppdmg + " damage";
                    document.getElementById("event2").innerHTML = "You completely blocked the attack";
                    document.getElementById("event3").innerHTML = " ";
                } // If the Player chose to defend and the opponent decided to inflict
                else{
                    placeholder = oppdmg - 3;
                    playerHP = playerHP - placeholder;
                    document.getElementById("HPlayer").innerHTML = "Player: " + playerHP;
                    document.getElementById("event1").innerHTML = "Opponent attempted to inflict " + oppdmg + " damage";
                    document.getElementById("event2").innerHTML = "You defended from the attack";
                    document.getElementById("event3").innerHTML = "Opponent inflicts " + placeholder + " damage";
                } // If the Player chose to defend and the opponent attempted to inflict the attack
            }
            else{
                document.getElementById("event1").innerHTML = "Both chose to defend";
                document.getElementById("event2").innerHTML = " ";
                document.getElementById("event3").innerHTML = " ";
            } // If both the Player and Opponent chose to defend
            gameOver();
        }

        function gameOver(){
            if(opponentHP <= 0){
                opponentHP = 0;
                document.getElementById("HPponent").innerHTML = "Opponent: " + opponentHP;
                document.getElementById("event1").innerHTML = "<b>Player wins!</b>";
                document.getElementById("event2").innerHTML = " ";
                document.getElementById("event3").innerHTML = " ";
            } // Player wins if the Opponent's HP is equal and reaches first to zero.
            if(playerHP <= 0){
                playerHP = 0;
                document.getElementById("HPlayer").innerHTML = "Player: " + playerHP;
                document.getElementById("event1").innerHTML = "<b>Opponent wins!</b>";
                document.getElementById("event2").innerHTML = " ";
                document.getElementById("event3").innerHTML = " ";
            } // Opponent wins if the Player's HP is equal and reaches first to Zero
        }

        function resetBtn(){
            opponentHP = 100;
            playerHP = 100;

            document.getElementById("HPlayer").innerHTML = "Player: " + playerHP;
            document.getElementById("HPponent").innerHTML = "Opponent: " + opponentHP;

            document.getElementById("result").innerHTML = " ";
            document.getElementById("playchoice").innerHTML = " ";
            document.getElementById("playact").innerHTML = " ";
            document.getElementById("opact").innerHTML = " ";

            tossbut.disabled = false;
            defbut.disabled = false;
            resbut.disabled = true;
        } // Resets the entire game.
    </script>
</body>
</html>